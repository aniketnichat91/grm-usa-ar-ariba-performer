/*!
 * Copyright UiPath 2021
 * This file contains code from WebPack - https://github.com/webpack/webpack - MIT license
 */
(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'})}Object.defineProperty(exports,'__esModule',{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default']}:function getModuleExports(){return module};__webpack_require__.d(getter,'a',getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s="./Source/Content/ContentMain.ts")})({"./Source/Content/ContentLoader.ts":(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ContentLoader=exports.ContentLoaderRequestId=exports.ContentLoaderMessageId=void 0;var ContentEvalService_1=__webpack_require__("./Source/Eval/ContentEvalService.ts");var Logger_1=__webpack_require__("./Source/Utility/Logger.ts");var ContentLoaderMessageId;(function(ContentLoaderMessageId){ContentLoaderMessageId["LoadDriver"]="uipath_content_load_driver";ContentLoaderMessageId["UnloadDriver"]="uipath_content_finalize_driver";ContentLoaderMessageId["AddCustomLoader"]="uipath_content_add_custom_loader"})(ContentLoaderMessageId=exports.ContentLoaderMessageId||(exports.ContentLoaderMessageId={}));var ContentLoaderRequestId;(function(ContentLoaderRequestId){ContentLoaderRequestId["GetContentScripts"]="uipath_get_content_scripts"})(ContentLoaderRequestId=exports.ContentLoaderRequestId||(exports.ContentLoaderRequestId={}));var ContentLoader=(function(){function ContentLoader(){var _this=this;this.m_customLoaders={};chrome.runtime.onMessage.addListener(function(message,sender,sendResponse){if(message.type==ContentLoaderMessageId.LoadDriver){Logger_1.Logger.Log("OnBackgroundMessage: content scripts loaded from new codemap");var loadDriverRequest=message;_this.LoadDriverCode(loadDriverRequest.DriverCode,loadDriverRequest.Tab);sendResponse()}else if(message.type==ContentLoaderMessageId.UnloadDriver){var unloadDriverRequest=message;_this.FinalizeDriver(unloadDriverRequest.Tab);sendResponse()}else if(message.type==ContentLoaderMessageId.AddCustomLoader){var addLoaderRequest=message;_this.AddContentLoader(addLoaderRequest.ContentLoaderCode);sendResponse()}});chrome.runtime.sendMessage(ContentLoaderRequestId.GetContentScripts,function(response){_this.LoadDriverCode(response.DriverCode,response.Tab);for(var _i=0,_a=response.CustomLoaders;_i<_a.length;_i++){var contentLoader=_a[_i];_this.AddContentLoader(contentLoader)}})}ContentLoader.prototype.LoadDriverCode=function(driverCode,tab){if(!driverCode){return}Logger_1.Logger.Log("LoadDriverCode: message.version: "+driverCode.Version);try{ContentEvalService_1.ContentEvalService.EvalDriver(driverCode.ContentCode);if(chrome[ContentLoader.InitializeContentImpl]){chrome[ContentLoader.InitializeContentImpl](tab);chrome[ContentLoader.InitializeContentImpl]=null}else{Logger_1.Logger.Error("InitializeContentImpl undefined")}}catch(ex){Logger_1.Logger.Log("OnContentScriptLoadRequest failed to evaluate content script "+ex)}};ContentLoader.prototype.FinalizeDriver=function(tab){Logger_1.Logger.Log("FinalizeDriver");if(chrome[ContentLoader.FinalizeContentImpl]){chrome[ContentLoader.FinalizeContentImpl](tab);chrome[ContentLoader.FinalizeContentImpl]=null}else{Logger_1.Logger.Log("FinalizeDriver: chrome.FinalizeContentImpl is undefined")}};ContentLoader.prototype.AddContentLoader=function(contentLoader){this.m_customLoaders[contentLoader.Version]=ContentEvalService_1.ContentEvalService.EvalLoader(contentLoader.ContentCode)};ContentLoader.InitializeContentImpl="InitializeContentImpl";ContentLoader.FinalizeContentImpl="FinalizeContentImpl";return ContentLoader}());exports.ContentLoader=ContentLoader}),"./Source/Content/ContentMain.ts":(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ContentLoader_1=__webpack_require__("./Source/Content/ContentLoader.ts");var globalScope=window;globalScope["chrome"]=globalScope["chrome"]||globalScope["browser"];var contentLoader=new ContentLoader_1.ContentLoader;globalScope["g_uiPath_ContentLoader"]=contentLoader}),"./Source/Eval/ContentEvalService.ts":(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ContentEvalService=void 0;var EvalDriverContentCode_1=__webpack_require__("./Source/Eval/EvalDriverContentCode.js");var EvalLoaderContentCode_1=__webpack_require__("./Source/Eval/EvalLoaderContentCode.js");var ContentEvalService;(function(ContentEvalService){function EvalLoader(contentLoader){return EvalLoaderContentCode_1.EvalLoaderContentCode(contentLoader)}ContentEvalService.EvalLoader=EvalLoader;function EvalDriver(driverCode){EvalDriverContentCode_1.EvalDriverContentCode(driverCode)}ContentEvalService.EvalDriver=EvalDriver})(ContentEvalService=exports.ContentEvalService||(exports.ContentEvalService={}))}),"./Source/Eval/EvalDriverContentCode.js":(function(module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.EvalDriverContentCode=function(__driverCode){eval.call(window,__driverCode)}}),"./Source/Eval/EvalLoaderContentCode.js":(function(module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.EvalLoaderContentCode=function(__contentLoader){return eval(__contentLoader)}}),"./Source/Utility/Logger.ts":(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Logger=void 0;var Logger=(function(){function Logger(){}Logger.Log=function(msg){try{console.log(msg)}catch(e){}};Logger.Warn=function(msg){try{console.warn(new Error(msg))}catch(e){}};Logger.Error=function(msg){try{console.error(new Error(msg))}catch(e){}};return Logger}());exports.Logger=Logger})});